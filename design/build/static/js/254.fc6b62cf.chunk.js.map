{"version":3,"file":"static/js/254.fc6b62cf.chunk.js","mappings":"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","sources":["components/container/MainContainer.tsx","hook/InsertSensors.jsx","pages/sensors/sensorsList/SensorsList.jsx","utils/axios.jsx"],"sourcesContent":["import React, { CSSProperties } from \"react\";\r\nimport \"./containerStyle.css\";\r\ntype chilPropsType = {\r\n  children?: React.ReactNode;\r\n  styleAsProps?: CSSProperties;\r\n  className?: string;\r\n};\r\nfunction MainContainer({ className, children, styleAsProps }: chilPropsType) {\r\n  return (\r\n    <section className={`section ${className}`} style={styleAsProps}>\r\n      <div className=\"row\">{children}</div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MainContainer;\r\n","import axiosInstance from \"../utils/axios\";\r\nimport {\r\n  useQuery,\r\n  useMutation,\r\n  useQueryClient,\r\n  QueryClient\r\n} from \"react-query\";\r\n\r\n// http://localhost:5000/operations\r\n\r\nconst addNewData = data => {\r\n  try {\r\n    const response = axiosInstance.post(\r\n      \"http://localhost:5000/operations\",\r\n      data\r\n    );\r\n    return response;\r\n  } catch (err) {\r\n    console.log(err.message);\r\n  }\r\n};\r\n\r\nexport const useAddNewSensor = data => {\r\n  const queryClient = useQueryClient();\r\n  // add new argument to useMutation Method\r\n\r\n  // add new argument to useMutation Method\r\n  return useMutation(addNewData, {\r\n    onSuccess: data => {\r\n      // data is axios response which send to the useMutation method as a result\r\n      // queryClient.invalidateQueries('super-heros')\r\n      queryClient.setQueriesData([\"sensors_list\", 1], oldQueryData => {\r\n        //setQueriesData automaticall get oldQueryData\r\n        return {\r\n          ...oldQueryData,\r\n          data: [...oldQueryData.data, data.data]\r\n        };\r\n      });\r\n    }\r\n  });\r\n};\r\n","import { Fragment, useState } from \"react\";\r\nimport MainContainer from \"../../../components/container/MainContainer\";\r\nimport { useAddNewSensor } from \"../../../hook/InsertSensors\";\r\nimport \"./sensorsListStyle.css\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst SensorsList = () => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors }\r\n  } = useForm({\r\n    defaultValues: {\r\n      name: \"New York\",\r\n      customer: \"cusomter-1\",\r\n      links: { customer: \"cusomter-1\" }\r\n    }\r\n  });\r\n\r\n  const {\r\n    mutate: addData,\r\n    isLoading: addingDataLoader,\r\n    isError: isAddingError,\r\n    error: AddingError\r\n  } = useAddNewSensor();\r\n\r\n  const onSubmit = data => {\r\n    const last_online = Date.now();\r\n    const formData = {\r\n      device_id: data.device_id,\r\n      last_online: last_online,\r\n      last_temp: data.last_temp,\r\n      customer: data.customer,\r\n      location: data.location\r\n    };\r\n    addData(formData);\r\n  };\r\n\r\n  const customer = [\r\n    {\r\n      name: \"a\",\r\n      UUID: 1\r\n    },\r\n    {\r\n      name: \"b\",\r\n      UUID: 2\r\n    },\r\n    {\r\n      name: \"c\",\r\n      UUID: 3\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* ------------- Main Content of Home Page -------------- */}\r\n      <main id=\"main\" className=\"main\">\r\n        <MainContainer className=\"dashboard\" />\r\n        {/* ---------- Total Report ----- */}\r\n        <div className=\"col-lg-12\">\r\n          <div className=\"row\">\r\n            {/* ---------- Add Sensor Part ----------- */}\r\n            <div className=\"col-md-8 col-sm-8 col-xs-12 \">\r\n              <h4>New Sensor</h4>\r\n              <hr />\r\n\r\n              <form onSubmit={handleSubmit(onSubmit)}>\r\n                {/* register your input into the hook by invoking the \"register\" function */}\r\n                <div className=\"form-fields m-t-20\">\r\n                  <input placeholder=\"Sensor ID\" {...register(\"device_id\")} />\r\n                </div>\r\n\r\n                <div className=\"form-fields m-t-20\">\r\n                  <input\r\n                    placeholder=\"location\"\r\n                    {...register(\"location\", { required: true })}\r\n                  />\r\n                  {errors.location && (\r\n                    <div className=\"error\">This field is required</div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"form-fields m-t-20\">\r\n                  {/* <select {...register(\"links.customer\", { required: true })}>\r\n                    {(customers || []).map((customer, index) => (\r\n                      <option key={index} value={customer.UUID}>\r\n                        {customer.name}\r\n                      </option>\r\n                    ))}\r\n                  </select> */}\r\n                </div>\r\n\r\n                <div className=\"form-fields m-t-20 m-b-50\">\r\n                  <input\r\n                    type=\"number\"\r\n                    step=\"0.5\"\r\n                    placeholder=\"Last Temp\"\r\n                    {...register(\"last_temp\", {\r\n                      required: {\r\n                        value: true,\r\n                        message: \"Last Temp  is required\"\r\n                      },\r\n                      pattern: {\r\n                        value: /^[0-9]+$/,\r\n                        message: \"Please Type Just number\"\r\n                      }\r\n                    })}\r\n                  />\r\n\r\n                  <div className=\"error\">\r\n                    {errors.last_temp && errors.last_temp.message}\r\n                  </div>\r\n                </div>\r\n\r\n                <hr />\r\n                <span className=\"submit_buttons\">\r\n                  <button type=\"submit\" className=\"submitButton\">\r\n                    Add Sensor\r\n                  </button>\r\n                  <button className=\"cancelButton\">Cancel</button>\r\n                </span>\r\n              </form>\r\n            </div>\r\n            {/* ---------- End of Add Sensor Part ----------- */}\r\n\r\n            {/* ---------- Add Alerts ----------- */}\r\n            <div className=\"col-md-4 col-sm-4 col-xs-12\">\r\n              <h4>Alerts</h4> <hr />\r\n              <div className=\"form-fields m-t-20\">\r\n                <div className=\"form-fields m-t-20\">\r\n                  <input placeholder=\"MinTemp\" {...register(\"minTemp\")} />\r\n                  <br />\r\n                  <input\r\n                    {...register(\"minTemp\")}\r\n                    type=\"checkbox\"\r\n                    value=\"Monitor Min\"\r\n                    className=\"minTemp\"\r\n                  />\r\n                  <span className=\"checkBoxTitle\"> Monitor Min Temprature</span>\r\n                </div>\r\n\r\n                <div className=\"form-fields m-t-20\">\r\n                  <input placeholder=\"MinTemp\" {...register(\"minTemp\")} />\r\n                  <br />\r\n                  <input\r\n                    {...register(\"maxTemp\")}\r\n                    type=\"checkbox\"\r\n                    value=\"Monitor Max\"\r\n                    className=\"maxTemp\"\r\n                  />\r\n                  <span className=\"checkBoxTitle\">\r\n                    {\" \"}\r\n                    Monitor Max Temprature{\" \"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n            </div>\r\n            {/* ---------- End of Add Alerts ----------- */}\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default SensorsList;\r\n","import axios from \"axios\";\r\nconst baseURL = process.env.REACT_APP_BACKEDN_URL;\r\n// console.log(\"Base URL =\", baseURL);\r\nconst axiosInstance = axios.create({\r\n  baseURL: baseURL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n});\r\n\r\nexport default axiosInstance;\r\n"],"names":["className","children","styleAsProps","style","addNewData","data","axiosInstance","err","console","log","message","useForm","defaultValues","name","customer","links","register","handleSubmit","errors","watch","formState","queryClient","useQueryClient","useMutation","onSuccess","setQueriesData","oldQueryData","useAddNewSensor","addData","mutate","isLoading","isError","error","Fragment","id","MainContainer","onSubmit","last_online","Date","now","formData","device_id","last_temp","location","placeholder","required","type","step","value","pattern","axios","baseURL","process","headers"],"sourceRoot":""}