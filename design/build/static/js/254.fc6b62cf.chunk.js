"use strict";(self.webpackChunkdesign=self.webpackChunkdesign||[]).push([[254],{2253:function(e,s,a){a.d(s,{Z:function(){return r}});a(2791);var t=a(184);var r=function(e){var s=e.className,a=e.children,r=e.styleAsProps;return(0,t.jsx)("section",{className:"section ".concat(s),style:r,children:(0,t.jsx)("div",{className:"row",children:a})})}},5254:function(e,s,a){a.r(s),a.d(s,{default:function(){return u}});var t=a(1413),r=a(2791),n=a(2253),i=a(2982),c=a(884),l=a(1933),o=function(e){try{return c.Z.post("http://localhost:5000/operations",e)}catch(s){console.log(s.message)}},m=a(1134),d=a(184),u=function(){var e=(0,m.cI)({defaultValues:{name:"New York",customer:"cusomter-1",links:{customer:"cusomter-1"}}}),s=e.register,a=e.handleSubmit,c=(e.watch,e.formState.errors),u=function(e){var s=(0,l.useQueryClient)();return(0,l.useMutation)(o,{onSuccess:function(e){s.setQueriesData(["sensors_list",1],(function(s){return(0,t.Z)((0,t.Z)({},s),{},{data:[].concat((0,i.Z)(s.data),[e.data])})}))}})}(),h=u.mutate;u.isLoading,u.isError,u.error;return(0,d.jsx)(r.Fragment,{children:(0,d.jsxs)("main",{id:"main",className:"main",children:[(0,d.jsx)(n.Z,{className:"dashboard"}),(0,d.jsx)("div",{className:"col-lg-12",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-md-8 col-sm-8 col-xs-12 ",children:[(0,d.jsx)("h4",{children:"New Sensor"}),(0,d.jsx)("hr",{}),(0,d.jsxs)("form",{onSubmit:a((function(e){var s=Date.now(),a={device_id:e.device_id,last_online:s,last_temp:e.last_temp,customer:e.customer,location:e.location};h(a)})),children:[(0,d.jsx)("div",{className:"form-fields m-t-20",children:(0,d.jsx)("input",(0,t.Z)({placeholder:"Sensor ID"},s("device_id")))}),(0,d.jsxs)("div",{className:"form-fields m-t-20",children:[(0,d.jsx)("input",(0,t.Z)({placeholder:"location"},s("location",{required:!0}))),c.location&&(0,d.jsx)("div",{className:"error",children:"This field is required"})]}),(0,d.jsx)("div",{className:"form-fields m-t-20"}),(0,d.jsxs)("div",{className:"form-fields m-t-20 m-b-50",children:[(0,d.jsx)("input",(0,t.Z)({type:"number",step:"0.5",placeholder:"Last Temp"},s("last_temp",{required:{value:!0,message:"Last Temp  is required"},pattern:{value:/^[0-9]+$/,message:"Please Type Just number"}}))),(0,d.jsx)("div",{className:"error",children:c.last_temp&&c.last_temp.message})]}),(0,d.jsx)("hr",{}),(0,d.jsxs)("span",{className:"submit_buttons",children:[(0,d.jsx)("button",{type:"submit",className:"submitButton",children:"Add Sensor"}),(0,d.jsx)("button",{className:"cancelButton",children:"Cancel"})]})]})]}),(0,d.jsxs)("div",{className:"col-md-4 col-sm-4 col-xs-12",children:[(0,d.jsx)("h4",{children:"Alerts"})," ",(0,d.jsx)("hr",{}),(0,d.jsxs)("div",{className:"form-fields m-t-20",children:[(0,d.jsxs)("div",{className:"form-fields m-t-20",children:[(0,d.jsx)("input",(0,t.Z)({placeholder:"MinTemp"},s("minTemp"))),(0,d.jsx)("br",{}),(0,d.jsx)("input",(0,t.Z)((0,t.Z)({},s("minTemp")),{},{type:"checkbox",value:"Monitor Min",className:"minTemp"})),(0,d.jsx)("span",{className:"checkBoxTitle",children:" Monitor Min Temprature"})]}),(0,d.jsxs)("div",{className:"form-fields m-t-20",children:[(0,d.jsx)("input",(0,t.Z)({placeholder:"MinTemp"},s("minTemp"))),(0,d.jsx)("br",{}),(0,d.jsx)("input",(0,t.Z)((0,t.Z)({},s("maxTemp")),{},{type:"checkbox",value:"Monitor Max",className:"maxTemp"})),(0,d.jsxs)("span",{className:"checkBoxTitle",children:[" ","Monitor Max Temprature"," "]})]})]}),(0,d.jsx)("hr",{})]})]})})]})})}},884:function(e,s,a){var t=a(4569),r=a.n(t)().create({baseURL:"http://localhost:5000",headers:{"Content-Type":"application/json"}});s.Z=r}}]);
//# sourceMappingURL=254.fc6b62cf.chunk.js.map